<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Cultural Vista</title>
  <link rel="stylesheet" href="styles.css" />
  <link rel="stylesheet" href="district.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet" />

</head>
<script>
  // Function to fetch data from Wikipedia API
  function fetchData() {
    // Wikipedia API endpoint
    const url = 'https://en.wikipedia.org/w/api.php';

    // Parameters for the API request
    const params = {
      action: 'query',
      list: 'search',
      srsearch: 'Culture of Tamil Nadu', // Search query for cultural topics in Tamil Nadu
      format: 'json',
      origin: '*' // Allow cross-origin requests
    };

    // Construct URL with parameters
    const apiUrl = new URL(url);
    apiUrl.search = new URLSearchParams(params).toString();

    // Fetch data from Wikipedia API
    fetch(apiUrl)
      .then(response => response.json())
      .then(data => {
        // Pass the fetched data to a function that renders a new page
        renderPage(data.query.search);
      })
      .catch(error => console.error('Error fetching data:', error));
  }

  // Function to render a new page with fetched content
  function renderPage(results) {
    // Create a new HTML document
    const newPage = document.createElement('html');
    const head = document.createElement('head');
    const body = document.createElement('body');
    newPage.appendChild(head);
    newPage.appendChild(body);

    // Loop through search results and create list items
    results.forEach(result => {
      // Create elements
      const listItem = document.createElement('div');
      const title = document.createElement('h2');
      const snippet = document.createElement('div');
      const readMoreLink = document.createElement('a');

      // Set content and attributes
      title.textContent = result.title;
      snippet.innerHTML = result.snippet;
      readMoreLink.textContent = 'Read more';
      readMoreLink.href = `https://en.wikipedia.org/wiki/${result.title}`;
      readMoreLink.target = '_blank';

      // Append elements
      listItem.appendChild(title);
      listItem.appendChild(snippet);
      listItem.appendChild(readMoreLink);

      // Append the list item to the body of the new page
      body.appendChild(listItem);
    });

    // Open the newly created page in a new tab
    const newWindow = window.open();
    newWindow.document.write(newPage.outerHTML);
  }

  fetchData();
  s
  // Function to display search results
</script>

<body>
  <header>
    <nav>
      <tr>
        <div class='logo'>
          <a href="http://127.0.0.1:5500/main.html">
            <img src="data-collection.png" alt="digital Preserving">
          </a>
        </div>
      </tr>
      <tr>
        <div class="head">
          <a href="http://127.0.0.1:5500/main.html">
            <h4 href="#">CULTURAL VISTA </h4>
          </a>
        </div>
      </tr>
      <ul>
        <li><a href="http://127.0.0.1:5500/main.html">Home</a></li>
        <li><a href="http://127.0.0.1:5500/Articles.html">Articles</a></li>
        <li><a href="http://127.0.0.1:5500/community.html">Community</a></li>
        <li><a href="http://127.0.0.1:5500/about.html">About</a></li>
        <li><a href="http://127.0.0.1:5500/indexes.html">Sign up</a></li>
        <li><a href="http://127.0.0.1:5500/index.html"> Log in</a></li>
      </ul>
    </nav>
  </header>

  <main>
    <section class="hero">
      <div class="hero-content">
        <p>
        <h2>தமிழ்நாட்டின் அழிந்து வரும் பூர்வீகம் மற்றும் பாரம்பரியம் மற்றும் கலாச்சாரத்தை பாதுகாத்தல்</h2>
        </p>
        <p>
        <h5>
          Explore the rich tapestry of stories, traditions, languages, music,
          art, and crafts that define the vibrant culture of Tamil Nadu.
        </h5>
        </p>
        <!-- <script link="/home/amu/cultural_vista/app.js"></script> -->
        <a onclick="fetchData()" class="btn">Indian Culture</a>
        <a href="ditrict.html" class="btn">Tamil Culture</a>

        <div class="container">
          <div class="icon-row">
            <div class="icon">
              <a href="img.html">
                <img src="photos.png" alt="images" title="images">

              </a>
            </div>
            <div class="icon">
              <a href="audio.html">
                <img src="podcast-.png" alt="music" title="music">
              </a>
            </div>
            <div class="icon">
              <a href="vedio.html">
                <img src="play-button.png" alt="videos" title="videos">
              </a>
            </div>

            <div class="icon">
              <a href="">
                <img src="pongal.png" alt="festivals" title="festivals">
              </a>
            </div>

            <div class="icon">
              <a href="">
                <img src="folklore.png" alt="folklore" title="folklore">
              </a>
            </div>
            <div class="icon">
              <a href="">
                <img src="museum.png" alt="museum" title="museum">
              </a>
            </div>
            <div class="icon">
              <a href="">
                <img src="temple.png" alt="temple" title="temple">
              </a>
            </div>
            <div class="icon">
              <a href="">
                <img src="paint.png" alt="art" title="art">
              </a>
            </div>
            <div class="icon">
              <a href="">
                <img src="book.png" alt="author" title="author">
              </a>
            </div>
            <div class="icon">
              <a href="">
                <img src="author.png" alt="Articles" title="Articles">
              </a>
            </div>
            <div class="icon">
              <a href="">
                <img src="column.png" alt="ports" title="ports">
              </a>
            </div>
            <div class="icon">
              <a href="">
                <img src="story.png" alt="stories" title="stories">
              </a>
            </div>
            <div class="icon">
              <a href="">
                <img src="film.png" alt="flims" title="flims">
              </a>
            </div>
            <div class="icon">
              <a href="">
                <img src="protect.png" alt="properities" title="properities">
              </a>
            </div>
            <div class="icon">
              <a href="">
                <img src="holi.png" alt="food" title="food">
              </a>
            </div>
            <div class="icon">
              <a href="map.html">
                <img src="landmark.png" alt="mapping" title="mapping">
              </a>
            </div>
          </div>
        </div>
      </div>
      <div id="results"></div>
  </main>

  <footer>
    <p>&copy; Cultural Vista</p>
  </footer>
</body>

</html>